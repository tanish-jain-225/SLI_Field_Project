<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="SLI Mini-Project Screen" />
    <meta name="robots" content="index, follow" />
    <meta name="theme-color" content="#198754" />
    <title>SLI - Miniproject</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link
      rel="shortcut icon"
      href="./components/favicon.png"
      type="image/x-icon"
    />

    <!-- Preload Images -->
    <link rel="preload" href="./components/favicon.png" as="image" />
    <link rel="preload" href="./components/crane.jpg" as="image" />

    <!-- Custom Styles (responsive) -->
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        min-height: 100vh;
        background-color: #f0f2f5;
        display: flex;
        flex-direction: column;
      }

      main {
        flex: 1;
        padding: 1rem;
      }

      footer {
        margin-top: auto;
      }

      .graph-container {
        background-color: #ffffff;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 100%;
        /* Responsive height: between 220px and 420px */
        min-height: clamp(220px, 35vh, 420px);
      }

      .report-container {
        background-color: #ffffff;
        border-radius: 0.5rem;
        min-height: 150px;
      }

      .data-section {
        padding: 0.75rem;
      }

      .chart-canvas {
        width: 100% !important;
        height: 100% !important;
      }

      @media (max-width: 575.98px) {
        header .container {
          gap: 0.5rem;
          padding: 0.5rem;
        }
        .graph-container {
          min-height: 260px;
        }
        .overall-report-container h2 {
          font-size: 1.125rem;
        }
      }
    </style>
  </head>

  <body>
    <!-- Header -->
    <header class="bg-dark text-white py-3 shadow-sm">
      <div
        class="container d-flex flex-column flex-md-row align-items-center justify-content-center gap-3"
      >
        <img
          src="./components/favicon.png"
          alt="SLI Logo"
          class="me-md-2"
          style="height: 50px"
        />
        <h1 class="mb-0 text-center text-md-start fs-5">SLI Mini-Project</h1>
      </div>
    </header>

    <!-- Main Content (fluid for responsiveness) -->
    <main class="container-fluid">
      <div class="container">
        <div class="row g-4 my-4">
          <!-- Visualization Section -->
          <div class="col-12 col-md-6">
            <!-- image section  -->
            <div class="mb-3 text-center">
              <img
                src="./components/crane.jpg"
                alt="Crane Image"
                class="img-fluid rounded shadow-sm w-100 h-auto"
                style="object-fit: cover; max-height: 280px"
                loading="lazy"
              />
            </div>
            <!-- Graph will be displayed here. -->
            <div class="graph-container border p-2 shadow-sm">
              <canvas id="dataChart" class="chart-canvas"></canvas>
            </div>
          </div>

          <!-- Data Section -->
          <div class="col-12 col-md-6 d-flex flex-column">
            <div id="dynamic-data-container" class="flex-grow-1 mb-3"></div>

            <div class="text-center mb-2 text-secondary">
              <small id="last-updated">Last Updated: Never</small>
            </div>

            <div>
              <button id="toggle-button" class="btn btn-success w-100 py-2">
                Start Reading
              </button>
            </div>
          </div>
        </div>

        <!-- Overall Report Section -->
        <div class="overall-report-container py-3 my-3">
          <h2 class="text-center mb-4">Overall Report</h2>
          <div class="row g-3">
            <!-- cost section  -->
            <div class="col-12 col-md-6">
              <h3 class="text-center mb-3">Cost Analysis</h3>
              <div
                id="cost-receipt"
                class="bg-white rounded py-4 shadow-sm d-flex flex-column justify-content-center h-100"
              >
                <span class="text-center"
                  >Cost Analysis Will Be Shown Here</span
                >
              </div>
            </div>

            <!-- Operator Section -->
            <div class="col-12 col-md-6">
              <h3 class="text-center mb-3">Operator Usage</h3>
              <div
                id="operator-feedback"
                class="bg-white rounded py-4 shadow-sm d-flex flex-column justify-content-center h-100"
              >
                <span class="text-center"
                  >Operator Usage Will Be Shown Here</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="bg-dark text-white text-center py-3 mt-auto">
      <div class="container">
        <small>&copy; 2025 SLI Mini-Project. All rights reserved.</small>
      </div>
    </footer>

    <!-- Scripts (deferred for non-blocking load) -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"
    ></script>
    <script defer src="./components/script.js"></script>
  </body>
</html>
