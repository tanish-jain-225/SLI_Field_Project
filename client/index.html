<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="SLI Mini-Project Screen" />
    <meta name="theme-color" content="#0d6efd" />
    <title>SLI — Field Project</title>

    <link rel="preload" href="./components/favicon.png" as="image" />
    <link rel="preload" href="./components/crane.jpg" as="image" />

    <!-- Minimal reset + modern base styles -->
    <style>
      :root{
        --bg:#f6f8fb;
        --card:#ffffff;
        --muted:#6c757d;
        --accent:#0d6efd;
        --success:#198754;
        --gap:1rem;
        --radius:12px;
        --max-width:1200px;
        --shadow: 0 6px 18px rgba(15,23,42,0.06);
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0;
        font-family:system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial;
        background:var(--bg);
        color:#0f1724;
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
        display:flex;
        flex-direction:column;
        align-items:center;
      }
      .app{
        width:100%;
        max-width:var(--max-width);
        padding:24px;
        display:flex;
        flex-direction:column;
        gap:var(--gap);
      }

      /* Header */
      header.app-header{
        display:flex;
        align-items:center;
        gap:16px;
        padding:12px 0;
      }
      .brand{
        display:flex;align-items:center;gap:12px
      }
      .brand img{width:44px;height:44px;border-radius:8px}
      .brand h1{font-size:1.05rem;margin:0}
      .meta{margin-left:auto;color:var(--muted);font-size:0.9rem}

      /* Main layout - flexbox */
      .main{
        display:flex;gap:20px;width:100%;align-items:stretch;
      }
      /* left visual panel and right control panel */
      .visual-panel{
        flex:1.1;display:flex;flex-direction:column;gap:16px;
      }
      .control-panel{
        flex:.95;display:flex;flex-direction:column;gap:16px;
      }

      /* Cards */
      .card{background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
      .media{border-radius:10px;overflow:hidden}
      .crane-img{width:100%;height:220px;object-fit:cover;display:block}

      .chart-wrap{height:360px;border-radius:10px;overflow:hidden}
      .chart-canvas{width:100%!important;height:100%!important;display:block}

      /* Controls */
      .controls{display:flex;gap:12px;align-items:center}
      .btn{
        appearance:none;border:0;padding:10px 14px;border-radius:10px;background:var(--accent);color:#fff;cursor:pointer;font-weight:600
      }
      .btn.ghost{background:transparent;border:1px solid rgba(12,58,178,0.12);color:var(--accent)}

      .status{font-size:0.9rem;color:var(--muted)}

      /* Dynamic sections */
      #dynamic-data-container{display:flex;flex-direction:column;gap:8px}
      .field-row{display:flex;justify-content:space-between;padding:8px 10px;border-radius:8px;background:#fbfdff;border:1px solid rgba(15,23,42,0.03)}
      .field-row .label{color:var(--muted)}

      /* Reports */
      .reports{display:flex;flex-direction:column;gap:12px}
      .reports .two-col{display:flex;gap:12px}
      .report-card{flex:1;min-height:120px;display:flex;flex-direction:column;justify-content:center;align-items:center}

      footer{width:100%;text-align:center;color:var(--muted);padding:16px 0;font-size:0.9rem}

      /* Responsive */
      @media (max-width:900px){
        .main{flex-direction:column}
        .chart-wrap{height:300px}
        .crane-img{height:180px}
      }
      @media (max-width:420px){
        .chart-wrap{height:240px}
        .crane-img{height:140px}
        .brand h1{font-size:0.95rem}
      }
    </style>
  </head>
  <body>
    <div class="app">
      <header class="app-header">
        <div class="brand">
          <img src="./components/favicon.png" alt="logo" />
          <div>
            <h1>SLI Field Dashboard</h1>
            <div class="status">Live sensor visualization & operator analytics</div>
          </div>
        </div>
        <div class="meta">Built for demo — resize to test responsiveness</div>
      </header>

      <main class="main">
        <!-- Visual left side -->
        <section class="visual-panel">
          <div class="card media">
            <img class="crane-img" src="./components/crane.jpg" alt="Crane" loading="lazy" />
          </div>

          <div class="card chart-wrap">
            <canvas id="dataChart" class="chart-canvas"></canvas>
          </div>
        </section>

        <!-- Controls / data / reports right side -->
        <aside class="control-panel">
          <div class="card">
            <div style="display:flex;align-items:center;justify-content:space-between;gap:12px">
              <div style="flex:1">
                <div style="font-weight:700">Live Readings</div>
                <div id="last-updated" class="status">Last Updated: Never</div>
              </div>
              <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
                <button id="toggle-button" class="btn">Start Reading</button>
                <button id="reset-btn" class="btn ghost" style="font-weight:600;">Reset</button>
              </div>
            </div>

            <div style="margin-top:12px" id="dynamic-data-container"></div>
          </div>

          <div class="reports">
            <div class="two-col">
              <div class="card report-card" id="operator-feedback">
                <div style="text-align:center;color:var(--muted)">Operator Usage Will Be Shown Here</div>
              </div>
              <div class="card report-card" id="cost-receipt">
                <div style="text-align:center;color:var(--muted)">Cost Analysis Will Be Shown Here</div>
              </div>
            </div>
          </div>
        </aside>
      </main>

      <footer>&copy; 2025 SLI Mini-Project — lightweight demo</footer>
    </div>

    <!-- Scripts (deferred) -->
    <script defer src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script defer src="./components/script.js"></script>
  </body>
</html>
